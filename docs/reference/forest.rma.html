<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Forest Plots (Method for 'rma' Objects) — forest.rma • metafor</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Forest Plots (Method for 'rma' Objects) — forest.rma" />

<meta property="og:description" content="Function to create forest plots for objects of class "rma"." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metafor</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">2.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/metafor-package.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/pkgdown/diagram.html">Diagram</a>
</li>
<li>
  <a href="https://www.jstatsoft.org/index.php/jss/article/view/v036i03/v36i03.pdf">JSS Article (pdf)</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/wviechtb">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/wviechtb/metafor">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Forest Plots (Method for 'rma' Objects)</h1>
    
    <div class="hidden name"><code>forest.rma.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Function to create forest plots for objects of class <code>"rma"</code>.</p>
    
    </div>

    <pre class="usage"># S3 method for rma
forest(x, annotate=TRUE, addfit=TRUE, addcred=FALSE, showweights=FALSE,
       xlim, alim, clim, ylim, at, steps=5,
       level=x$level, refline=0, digits=2L, width,
       xlab, slab, mlab, ilab, ilab.xpos, ilab.pos,
       order, transf, atransf, targs, rows,
       efac=1, pch=15, psize, col, border, lty, fonts,
       cex, cex.lab, cex.axis, annosym, &#8230;)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>an object of class <code>"rma"</code>.</p></td>
    </tr>
    <tr>
      <th>annotate</th>
      <td><p>logical specifying whether annotations should be added to the plot (the default is <code>TRUE</code>).</p></td>
    </tr>
    <tr>
      <th>addfit</th>
      <td><p>logical specifying whether the summary estimate (for models without moderators) or fitted values (for models with moderators) should be added to the plot. See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>addcred</th>
      <td><p>logical specifying whether the bounds of the credibility/prediction interval should be added to the plot. See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>showweights</th>
      <td><p>logical specifying whether the annotations should also include the weights given to the observed effects or outcomes during the model fitting (the default is <code>FALSE</code>).</p></td>
    </tr>
    <tr>
      <th>xlim</th>
      <td><p>horizontal limits of the plot region. If unspecified, the function tries to set the horizontal plot limits to some sensible values.</p></td>
    </tr>
    <tr>
      <th>alim</th>
      <td><p>the actual x-axis limits. If unspecified, the function tries to set the x-axis limits to some sensible values.</p></td>
    </tr>
    <tr>
      <th>clim</th>
      <td><p>limits for the confidence/credibility/prediction intervals. If unspecified, no limits are used.</p></td>
    </tr>
    <tr>
      <th>ylim</th>
      <td><p>the y limits of the plot. If unspecified, the function tries to set the y-axis limits to some sensible values.</p></td>
    </tr>
    <tr>
      <th>at</th>
      <td><p>position of the x-axis tick marks and corresponding labels. If unspecified, the function tries to set the tick mark positions/labels to some sensible values.</p></td>
    </tr>
    <tr>
      <th>steps</th>
      <td><p>the number of tick marks for the x-axis (the default is 5). Ignored when the user specifies the positions via the <code>at</code> argument.</p></td>
    </tr>
    <tr>
      <th>level</th>
      <td><p>numerical value between 0 and 100 specifying the confidence interval level (the default is to take the value from the object).</p></td>
    </tr>
    <tr>
      <th>refline</th>
      <td><p>value at which a vertical &#8216;reference&#8217; line should be drawn (the default is 0). The line can be suppressed by setting this argument to <code>NA</code>.</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>integer specifying the number of decimal places to which the tick mark labels of the x-axis and the annotations should be rounded (the default is <code>2L</code>). Can also be a vector of two integers, the first specifying the number of decimal places for the annotations, the second for the x-axis labels. When specifying an integer (e.g., <code>2L</code>), trailing zeros after the decimal mark are dropped for the x-axis labels. When specifying a numerical value (e.g., <code>2</code>), trailing zeros are retained.</p></td>
    </tr>
    <tr>
      <th>width</th>
      <td><p>optional integer to manually adjust the width of the columns for the annotations.</p></td>
    </tr>
    <tr>
      <th>xlab</th>
      <td><p>title for the x-axis. If unspecified, the function tries to set an appropriate axis title.</p></td>
    </tr>
    <tr>
      <th>slab</th>
      <td><p>optional vector with labels for the \(k\) studies. If unspecified, the labels are either taken from the object (if study labels were specified) or simple labels are created within the function. To suppress labels, set this argument to <code>NA</code>.</p></td>
    </tr>
    <tr>
      <th>mlab</th>
      <td><p>optional character string giving a label to the summary estimate from a fixed- or random-effects model. If unspecified, the label is created within the function.</p></td>
    </tr>
    <tr>
      <th>ilab</th>
      <td><p>optional vector, matrix, or data frame providing additional information about the studies that should be added to the plot.</p></td>
    </tr>
    <tr>
      <th>ilab.xpos</th>
      <td><p>vector of numerical value(s) specifying the x-axis position(s) of the variable(s) given via <code>ilab</code> (must be specified if <code>ilab</code> is specified).</p></td>
    </tr>
    <tr>
      <th>ilab.pos</th>
      <td><p>integer(s) (either 1, 2, 3, or 4) specifying the alignment of the vector(s) given via <code>ilab</code> (2 means right, 4 mean left aligned). If unspecified, the default is to center the labels.</p></td>
    </tr>
    <tr>
      <th>order</th>
      <td><p>optional character string specifying how the studies should be ordered. See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>transf</th>
      <td><p>optional argument specifying the name of a function that should be used to transform the observed effect sizes, summary estimates, fitted values, and confidence interval bounds (e.g., <code>transf=exp</code>; see also <a href='transf.html'>transf</a>). If unspecified, no transformation is used.</p></td>
    </tr>
    <tr>
      <th>atransf</th>
      <td><p>optional argument specifying the name of a function that should be used to transform the x-axis labels and annotations (e.g., <code>atransf=exp</code>; see also <a href='transf.html'>transf</a>). If unspecified, no transformation is used.</p></td>
    </tr>
    <tr>
      <th>targs</th>
      <td><p>optional arguments needed by the function specified via <code>transf</code> or <code>atransf</code>.</p></td>
    </tr>
    <tr>
      <th>rows</th>
      <td><p>optional vector specifying the rows (or more generally, the horizontal positions) for plotting the outcomes. If unspecified, the function sets this value automatically. Can also be a single value specifying the row (horizontal position) of the first outcome (the remaining outcomes are then plotted below this starting row).</p></td>
    </tr>
    <tr>
      <th>efac</th>
      <td><p>vertical expansion factor for confidence interval limits, arrows, and the symbol used to denote summary estimates. The default value of 1 should usually work okay. Can also be a vector of two numbers, the first for CI limits and arrows, the second for summary estimates. Can also be a vector of three numbers, the first for CI limits, the second for arrows, the third for summary estimates.</p></td>
    </tr>
    <tr>
      <th>pch</th>
      <td><p>plotting symbol to use for the observed effect sizes or outcomes. By default, a filled square is used. See <code>points</code> for other options. Can also be a vector of values.</p></td>
    </tr>
    <tr>
      <th>psize</th>
      <td><p>optional vector with point sizes for the observed effect sizes or outcomes. If unspecified, the point sizes are drawn proportional to the model weights.</p></td>
    </tr>
    <tr>
      <th>cex</th>
      <td><p>optional character and symbol expansion factor. If unspecified, the function tries to set this to a sensible value.</p></td>
    </tr>
    <tr>
      <th>cex.lab</th>
      <td><p>optional expansion factor for the x-axis title. If unspecified, the function tries to set this to a sensible value.</p></td>
    </tr>
    <tr>
      <th>cex.axis</th>
      <td><p>optional expansion factor for the x-axis labels. If unspecified, the function tries to set this to a sensible value.</p></td>
    </tr>
    <tr>
      <th>col</th>
      <td><p>optional character string specifying the name of a color to use for the summary polygon or fitted values. If unspecified, the function sets a default color.</p></td>
    </tr>
    <tr>
      <th>border</th>
      <td><p>optional character string specifying the name of a color to use for the border of the summary polygon or fitted values. If unspecified, the function sets a default color.</p></td>
    </tr>
    <tr>
      <th>lty</th>
      <td><p>optional character string specifying the line type for the confidence intervals (if unspecified, the function sets this to <code>"solid"</code> by default).</p></td>
    </tr>
    <tr>
      <th>fonts</th>
      <td><p>optional character string specifying the font to use for the study labels, annotations, and the extra information (if specified via <code>ilab</code>). If unspecified, the default font is used.</p></td>
    </tr>
    <tr>
      <th>annosym</th>
      <td><p>optional vector of length 3 to change the left bracket, separation, and right bracket symbols for the annotations.</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>other arguments.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The plot shows the individual observed effect sizes or outcomes with corresponding confidence intervals.</p>
<p>For fixed- and random-effects models (i.e., for models without moderators), a polygon is added to the bottom of the forest plot, showing the summary estimate based on the model (with the outer edges of the polygon indicating the confidence interval limits). The <code>col</code> and <code>border</code> arguments can be used to adjust the (border) color of the polygon.</p>
<p>For random-effects models and if <code>addcred=TRUE</code>, a dotted line indicates the (approximate) bounds of the credibility/credible or prediction interval (the interval indicates where <code>level</code> % of the true effects are expected to fall) (Riley et al., 2011). For random-effects models of class <code>"rma.mv"</code> (see <code><a href='rma.mv.html'>rma.mv</a></code>) with multiple \(\tau^2\) values, the <code>addcred</code> argument can be used to specify for which level of the inner factor the credibility/prediction intervals should be provided (since the credibility/prediction intervals differ depending on the \(\tau^2\) value). If the model should also contain multiple multiple \(\gamma^2\) values, the <code>addcred</code> argument should then be of length 2 to specify the levels of both inner factors.</p>
<p>For models involving moderators, the fitted value for each study is added as a polygon to the plot. By default, the width of the polygons corresponds to the confidence interval limits for the fitted values. By setting <code>addcred=TRUE</code>, the width reflects the credibility/prediction interval limits. Again, the <code>col</code> and <code>border</code> arguments can be used to adjust the (border) color of the polygons. These polygons can be suppressed by setting <code>addfit=FALSE</code>.</p>
<p>With the <code>transf</code> argument, the observed effect sizes or outcomes, summary estimate, fitted values, confidence interval bounds, and credibility/prediction interval bounds can be transformed with some suitable function. For example, when plotting log odds ratios, one could use <code>transf=exp</code> to obtain a forest plot showing the odds ratios. Alternatively, one can use the <code>atransf</code> argument to transform the x-axis labels and annotations (e.g., <code>atransf=exp</code>). See also <a href='transf.html'>transf</a> for some transformation functions useful for meta-analyses. The examples below illustrate the use of these arguments.</p>
<p>By default, the studies are ordered from top to bottom (i.e., the first study in the dataset will be placed in row \(k\), the second study in row \(k-1\), and so on, until the last study, which is placed in the first row). The studies can be reordered with the <code>order</code> argument:</p><ul>
<li><p><code>order="obs"</code>: the studies are ordered by the observed effect sizes,</p></li>
<li><p><code>order="fit"</code>: the studies are ordered by the fitted values,</p></li>
<li><p><code>order="prec"</code>: the studies are ordered by their sampling variances,</p></li>
<li><p><code>order="resid"</code>: the studies are ordered by the size of their residuals,</p></li>
<li><p><code>order="rstandard"</code>: the studies are ordered by the size of their standardized residuals,</p></li>
<li><p><code>order="abs.resid"</code>: the studies are ordered by the size of their absolute residuals,</p></li>
<li><p><code>order="abs.rstandard"</code>: the studies are ordered by the size of their absolute standardized residuals.</p></li>
</ul><p>Alternatively, it is also possible to set <code>order</code> equal to a vector with indices specifying the desired order (see examples below).</p>
<p>Additional summary estimates can also be added to the plot with the <code><a href='addpoly.html'>addpoly</a></code> function. See the documentation for that function for examples.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>The function tries to set some sensible values for the optional arguments, but it may be necessary to tweak these in certain circumstances.</p>
<p>The function actually returns some information about the chosen defaults invisibly. Printing this information is useful as a starting point to make adjustments to the plot (see examples below).</p>
<p>If the number of studies is quite large, the labels, annotations, and symbols may become quite small and impossible to read. Stretching the plot window vertically may then provide a more readable figure (one should call the function again after adjusting the window size, so that the label/symbol sizes can be properly adjusted). Also, the <code>cex</code>, <code>cex.lab</code>, and <code>cex.axis</code> arguments are then useful to adjust the symbol and text sizes.</p>
<p>If the horizontal plot and/or x-axis limits are set by the user, then the horizontal plot limits (<code>xlim</code>) must be at least as wide as the x-axis limits (<code>alim</code>). This restriction is enforced inside the function.</p>
<p>If the outcome measure used for creating the plot has absolute limits (e.g., correlations are bounded between <code>-1</code> and <code>1</code>, proportions are bounded between <code>0</code> and <code>1</code>), one can use the <code>clim</code> argument to enforce those limits (confidence/credibility/prediction intervals cannot exceed those bounds then).</p>
<p>The models without moderators, the <code>col</code> argument can also be a vector of two elements, the first for specifying the color of the summary polygon, the second for specifying the color of the line for the credibility/prediction interval.</p>
<p>The <code>lty</code> argument can also be a vector of up to three elements, the first for specifying the line type of the individual CIs (<code>"solid"</code> by default), the second for the line type of the credibility/prediction interval (<code>"dotted"</code> by default), the third for the line type of the horizontal lines that are automatically added to the plot (<code>"solid"</code> by default; set to <code>"blank"</code> to remove them).</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Lewis, S., &amp; Clarke, M. (2001). Forest plots: Trying to see the wood and the trees. <em>British Medical Journal</em>, <b>322</b>, 1479--1480.</p>
<p>Riley, R. D., Higgins, J. P. T., &amp; Deeks, J. J. (2011). Interpretation of random effects meta-analyses. <em>British Medical Journal</em>, <b>342</b>, d549.</p>
<p>Viechtbauer, W. (2010). Conducting meta-analyses in R with the metafor package. <em>Journal of Statistical Software</em>, <b>36</b>(3), 1--48. <a href='http://www.jstatsoft.org/v36/i03/'>http://www.jstatsoft.org/v36/i03/</a>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='forest.html'>forest</a></code>, <code><a href='forest.default.html'>forest.default</a></code>, <code><a href='addpoly.html'>addpoly</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>### meta-analysis of the log risk ratios using a random-effects model</span>
<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='rma.uni.html'>rma</a></span>(<span class='kw'>measure</span><span class='kw'>=</span><span class='st'>"RR"</span>, <span class='kw'>ai</span><span class='kw'>=</span><span class='no'>tpos</span>, <span class='kw'>bi</span><span class='kw'>=</span><span class='no'>tneg</span>, <span class='kw'>ci</span><span class='kw'>=</span><span class='no'>cpos</span>, <span class='kw'>di</span><span class='kw'>=</span><span class='no'>cneg</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>dat.bcg</span>,
           <span class='kw'>slab</span><span class='kw'>=</span><span class='fu'>paste</span>(<span class='no'>author</span>, <span class='no'>year</span>, <span class='kw'>sep</span><span class='kw'>=</span><span class='st'>", "</span>))

<span class='co'>### default forest plot of the log risk ratios and summary estimate</span>
<span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>)</div><div class='input'>
<span class='co'>### summary estimate in row -1; studies in rows k=13 through 1; horizontal</span>
<span class='co'>### lines in rows 0 and k+1; and two extra lines of space at the top for</span>
<span class='co'>### headings or other annotations</span>
<span class='no'>op</span> <span class='kw'>&lt;-</span> <span class='fu'>par</span>(<span class='kw'>xpd</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='fu'>text</span>(<span class='kw'>x</span><span class='kw'>=</span>-<span class='fl'>8.5</span>, <span class='kw'>y</span><span class='kw'>=</span>-<span class='fl'>1</span>:<span class='fl'>16</span>, -<span class='fl'>1</span>:<span class='fl'>16</span>, <span class='kw'>pos</span><span class='kw'>=</span><span class='fl'>4</span>, <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.5</span>)</div><div class='img'><img src='forest.rma-1.png' alt='' width='768' height='614' /></div><div class='input'><span class='fu'>par</span>(<span class='no'>op</span>)

<span class='co'>### can also inspect defaults chosen</span>
<span class='no'>defaults</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>)</div><div class='img'><img src='forest.rma-2.png' alt='' width='768' height='614' /></div><div class='input'><span class='no'>defaults</span></div><div class='output co'>#&gt; $xlim
#&gt; [1] -8.00  7.26
#&gt; 
#&gt; $alim
#&gt; [1] -3  2
#&gt; 
#&gt; $at
#&gt; [1] -3 -2 -1  0  1  2
#&gt; 
#&gt; $ylim
#&gt; [1] -1.5 16.0
#&gt; 
#&gt; $rows
#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13
#&gt; 
#&gt; $cex
#&gt; [1] 1
#&gt; 
#&gt; $cex.lab
#&gt; [1] 1
#&gt; 
#&gt; $cex.axis
#&gt; [1] 1
#&gt; </div><div class='input'>
<span class='co'>### several forest plots illustrating the use of various arguments</span>
<span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.8</span>)</div><div class='img'><img src='forest.rma-3.png' alt='' width='768' height='614' /></div><div class='input'><span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.8</span>, <span class='kw'>addcred</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='img'><img src='forest.rma-4.png' alt='' width='768' height='614' /></div><div class='input'><span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.8</span>, <span class='kw'>alim</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>3</span>,<span class='fl'>3</span>))</div><div class='img'><img src='forest.rma-5.png' alt='' width='768' height='614' /></div><div class='input'><span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.8</span>, <span class='kw'>order</span><span class='kw'>=</span><span class='st'>"prec"</span>, <span class='kw'>alim</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>3</span>,<span class='fl'>3</span>))</div><div class='img'><img src='forest.rma-6.png' alt='' width='768' height='614' /></div><div class='input'><span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.8</span>, <span class='kw'>order</span><span class='kw'>=</span><span class='fu'>order</span>(<span class='no'>dat.bcg</span>$<span class='no'>ablat</span>), <span class='kw'>addcred</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='img'><img src='forest.rma-7.png' alt='' width='768' height='614' /></div><div class='input'>
<span class='co'>### adjust xlim values to see how that changes the plot</span>
<span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>)</div><div class='img'><img src='forest.rma-8.png' alt='' width='768' height='614' /></div><div class='input'><span class='fu'>par</span>(<span class='st'>"usr"</span>)[<span class='fl'>1</span>:<span class='fl'>2</span>] <span class='co'>### this shows what xlim values were chosen by default</span></div><div class='output co'>#&gt; [1] -8.00  7.26</div><div class='input'><span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>xlim</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>16</span>,<span class='fl'>14</span>))</div><div class='img'><img src='forest.rma-9.png' alt='' width='768' height='614' /></div><div class='input'><span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>xlim</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>18</span>,<span class='fl'>10</span>))</div><div class='img'><img src='forest.rma-10.png' alt='' width='768' height='614' /></div><div class='input'><span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>xlim</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>10</span>,<span class='fl'>10</span>))</div><div class='img'><img src='forest.rma-11.png' alt='' width='768' height='614' /></div><div class='input'>
<span class='co'>### illustrate transf argument</span>
<span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>transf</span><span class='kw'>=</span><span class='no'>exp</span>, <span class='kw'>at</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>0</span>,<span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>4</span>,<span class='fl'>6</span>), <span class='kw'>xlim</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>8</span>,<span class='fl'>12</span>), <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.8</span>, <span class='kw'>refline</span><span class='kw'>=</span><span class='fl'>1</span>)</div><div class='img'><img src='forest.rma-12.png' alt='' width='768' height='614' /></div><div class='input'>
<span class='co'>### illustrate atransf argument</span>
<span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>atransf</span><span class='kw'>=</span><span class='no'>exp</span>, <span class='kw'>at</span><span class='kw'>=</span><span class='fu'>log</span>(<span class='fu'>c</span>(<span class='fl'>.05</span>,<span class='fl'>.25</span>,<span class='fl'>1</span>,<span class='fl'>4</span>,<span class='fl'>20</span>)), <span class='kw'>xlim</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>8</span>,<span class='fl'>7</span>), <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.8</span>)</div><div class='img'><img src='forest.rma-13.png' alt='' width='768' height='614' /></div><div class='input'>
<span class='co'>### showweights argument</span>
<span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>atransf</span><span class='kw'>=</span><span class='no'>exp</span>, <span class='kw'>at</span><span class='kw'>=</span><span class='fu'>log</span>(<span class='fu'>c</span>(<span class='fl'>.05</span>,<span class='fl'>.25</span>,<span class='fl'>1</span>,<span class='fl'>4</span>,<span class='fl'>20</span>)), <span class='kw'>xlim</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>8</span>,<span class='fl'>8</span>),
       <span class='kw'>order</span><span class='kw'>=</span><span class='st'>"prec"</span>, <span class='kw'>showweights</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.8</span>)</div><div class='img'><img src='forest.rma-14.png' alt='' width='768' height='614' /></div><div class='input'>
<span class='co'>### forest plot with extra annotations</span>
<span class='co'>### note: may need to widen plotting device to avoid overlapping text</span>
<span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>atransf</span><span class='kw'>=</span><span class='no'>exp</span>, <span class='kw'>at</span><span class='kw'>=</span><span class='fu'>log</span>(<span class='fu'>c</span>(<span class='fl'>.05</span>, <span class='fl'>.25</span>, <span class='fl'>1</span>, <span class='fl'>4</span>)), <span class='kw'>xlim</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>16</span>,<span class='fl'>6</span>),
       <span class='kw'>ilab</span><span class='kw'>=</span><span class='fu'>cbind</span>(<span class='no'>dat.bcg</span>$<span class='no'>tpos</span>, <span class='no'>dat.bcg</span>$<span class='no'>tneg</span>, <span class='no'>dat.bcg</span>$<span class='no'>cpos</span>, <span class='no'>dat.bcg</span>$<span class='no'>cneg</span>),
       <span class='kw'>ilab.xpos</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>9.5</span>,-<span class='fl'>8</span>,-<span class='fl'>6</span>,-<span class='fl'>4.5</span>), <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.75</span>)</div><div class='input'><span class='no'>op</span> <span class='kw'>&lt;-</span> <span class='fu'>par</span>(<span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.75</span>, <span class='kw'>font</span><span class='kw'>=</span><span class='fl'>2</span>)
<span class='fu'>text</span>(<span class='fu'>c</span>(-<span class='fl'>9.5</span>,-<span class='fl'>8</span>,-<span class='fl'>6</span>,-<span class='fl'>4.5</span>), <span class='fl'>15</span>, <span class='fu'>c</span>(<span class='st'>"TB+"</span>, <span class='st'>"TB-"</span>, <span class='st'>"TB+"</span>, <span class='st'>"TB-"</span>))</div><div class='input'><span class='fu'>text</span>(<span class='fu'>c</span>(-<span class='fl'>8.75</span>,-<span class='fl'>5.25</span>),     <span class='fl'>16</span>, <span class='fu'>c</span>(<span class='st'>"Vaccinated"</span>, <span class='st'>"Control"</span>))</div><div class='input'><span class='fu'>text</span>(-<span class='fl'>16</span>,                <span class='fl'>15</span>, <span class='st'>"Author(s) and Year"</span>,   <span class='kw'>pos</span><span class='kw'>=</span><span class='fl'>4</span>)</div><div class='input'><span class='fu'>text</span>(<span class='fl'>6</span>,                  <span class='fl'>15</span>, <span class='st'>"Risk Ratio [95% CI]"</span>, <span class='kw'>pos</span><span class='kw'>=</span><span class='fl'>2</span>)</div><div class='img'><img src='forest.rma-15.png' alt='' width='768' height='614' /></div><div class='input'><span class='fu'>par</span>(<span class='no'>op</span>)

<span class='co'>### mixed-effects model with absolute latitude in the model</span>
<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='rma.uni.html'>rma</a></span>(<span class='kw'>measure</span><span class='kw'>=</span><span class='st'>"RR"</span>, <span class='kw'>ai</span><span class='kw'>=</span><span class='no'>tpos</span>, <span class='kw'>bi</span><span class='kw'>=</span><span class='no'>tneg</span>, <span class='kw'>ci</span><span class='kw'>=</span><span class='no'>cpos</span>, <span class='kw'>di</span><span class='kw'>=</span><span class='no'>cneg</span>, <span class='kw'>mods</span> <span class='kw'>=</span> ~ <span class='no'>ablat</span>,
           <span class='kw'>data</span><span class='kw'>=</span><span class='no'>dat.bcg</span>, <span class='kw'>slab</span><span class='kw'>=</span><span class='fu'>paste</span>(<span class='no'>author</span>, <span class='no'>year</span>, <span class='kw'>sep</span><span class='kw'>=</span><span class='st'>", "</span>))

<span class='co'>### forest plot with observed and fitted values</span>
<span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>xlim</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>9</span>,<span class='fl'>5</span>), <span class='kw'>order</span><span class='kw'>=</span><span class='st'>"fit"</span>, <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.8</span>, <span class='kw'>ilab</span><span class='kw'>=</span><span class='no'>dat.bcg</span>$<span class='no'>ablat</span>,
       <span class='kw'>ilab.xpos</span><span class='kw'>=</span>-<span class='fl'>3.5</span>, <span class='kw'>atransf</span><span class='kw'>=</span><span class='no'>exp</span>, <span class='kw'>at</span><span class='kw'>=</span><span class='fu'>log</span>(<span class='fu'>c</span>(<span class='fl'>.05</span>,<span class='fl'>.25</span>,<span class='fl'>1</span>,<span class='fl'>4</span>)))</div><div class='input'><span class='no'>op</span> <span class='kw'>&lt;-</span> <span class='fu'>par</span>(<span class='kw'>font</span><span class='kw'>=</span><span class='fl'>2</span>)
<span class='fu'>text</span>(-<span class='fl'>9</span>,   <span class='fl'>15</span>, <span class='st'>"Author(s) and Year"</span>,    <span class='kw'>pos</span><span class='kw'>=</span><span class='fl'>4</span>, <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.8</span>)</div><div class='input'><span class='fu'>text</span>( <span class='fl'>5</span>,   <span class='fl'>15</span>, <span class='st'>"Observed RR [95% CI]"</span>,  <span class='kw'>pos</span><span class='kw'>=</span><span class='fl'>2</span>, <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.8</span>)</div><div class='input'><span class='fu'>text</span>(-<span class='fl'>3.5</span>, <span class='fl'>15</span>, <span class='st'>"Latitude"</span>,                     <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.8</span>)</div><div class='img'><img src='forest.rma-16.png' alt='' width='768' height='614' /></div><div class='input'><span class='fu'>par</span>(<span class='no'>op</span>)

<span class='co'>### meta-analysis of the log risk ratios using a random-effects model</span>
<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='rma.uni.html'>rma</a></span>(<span class='kw'>measure</span><span class='kw'>=</span><span class='st'>"RR"</span>, <span class='kw'>ai</span><span class='kw'>=</span><span class='no'>tpos</span>, <span class='kw'>bi</span><span class='kw'>=</span><span class='no'>tneg</span>, <span class='kw'>ci</span><span class='kw'>=</span><span class='no'>cpos</span>, <span class='kw'>di</span><span class='kw'>=</span><span class='no'>cneg</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>dat.bcg</span>,
           <span class='kw'>slab</span><span class='kw'>=</span><span class='fu'>paste</span>(<span class='no'>author</span>, <span class='no'>year</span>, <span class='kw'>sep</span><span class='kw'>=</span><span class='st'>", "</span>))

<span class='co'>### for more complicated plots, the ylim and rows arguments may be useful</span>
<span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>)</div><div class='input'><span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>ylim</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>1.5</span>, <span class='fl'>16</span>)) <span class='co'>### the default</span></div><div class='img'><img src='forest.rma-17.png' alt='' width='768' height='614' /></div><div class='input'><span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>ylim</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>1.5</span>, <span class='fl'>20</span>)) <span class='co'>### extra space in plot</span></div><div class='img'><img src='forest.rma-18.png' alt='' width='768' height='614' /></div><div class='input'><span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>ylim</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>1.5</span>, <span class='fl'>20</span>), <span class='kw'>rows</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>17</span>:<span class='fl'>15</span>, <span class='fl'>12</span>:<span class='fl'>6</span>, <span class='fl'>3</span>:<span class='fl'>1</span>)) <span class='co'>### set positions</span></div><div class='img'><img src='forest.rma-19.png' alt='' width='768' height='614' /></div><div class='input'>
<span class='co'>### forest plot with subgrouping of studies</span>
<span class='co'>### note: may need to widen plotting device to avoid overlapping text</span>
<span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>xlim</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>16</span>, <span class='fl'>6</span>), <span class='kw'>at</span><span class='kw'>=</span><span class='fu'>log</span>(<span class='fu'>c</span>(<span class='fl'>.05</span>, <span class='fl'>.25</span>, <span class='fl'>1</span>, <span class='fl'>4</span>)), <span class='kw'>atransf</span><span class='kw'>=</span><span class='no'>exp</span>,
       <span class='kw'>ilab</span><span class='kw'>=</span><span class='fu'>cbind</span>(<span class='no'>dat.bcg</span>$<span class='no'>tpos</span>, <span class='no'>dat.bcg</span>$<span class='no'>tneg</span>, <span class='no'>dat.bcg</span>$<span class='no'>cpos</span>, <span class='no'>dat.bcg</span>$<span class='no'>cneg</span>),
       <span class='kw'>ilab.xpos</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>9.5</span>,-<span class='fl'>8</span>,-<span class='fl'>6</span>,-<span class='fl'>4.5</span>), <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.75</span>, <span class='kw'>ylim</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>1</span>, <span class='fl'>21</span>),
       <span class='kw'>order</span><span class='kw'>=</span><span class='fu'>order</span>(<span class='no'>dat.bcg</span>$<span class='no'>alloc</span>), <span class='kw'>rows</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>1</span>:<span class='fl'>2</span>,<span class='fl'>5</span>:<span class='fl'>11</span>,<span class='fl'>14</span>:<span class='fl'>17</span>))</div><div class='input'><span class='no'>op</span> <span class='kw'>&lt;-</span> <span class='fu'>par</span>(<span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.75</span>, <span class='kw'>font</span><span class='kw'>=</span><span class='fl'>4</span>)
<span class='fu'>text</span>(-<span class='fl'>16</span>, <span class='fu'>c</span>(<span class='fl'>18</span>,<span class='fl'>12</span>,<span class='fl'>3</span>), <span class='fu'>c</span>(<span class='st'>"Systematic Allocation"</span>, <span class='st'>"Random Allocation"</span>,
                        <span class='st'>"Alternate Allocation"</span>), <span class='kw'>pos</span><span class='kw'>=</span><span class='fl'>4</span>)</div><div class='input'><span class='fu'>par</span>(<span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>.75</span>, <span class='kw'>font</span><span class='kw'>=</span><span class='fl'>2</span>)
<span class='fu'>text</span>(<span class='fu'>c</span>(-<span class='fl'>9.5</span>,-<span class='fl'>8</span>,-<span class='fl'>6</span>,-<span class='fl'>4.5</span>), <span class='fl'>20</span>, <span class='fu'>c</span>(<span class='st'>"TB+"</span>, <span class='st'>"TB-"</span>, <span class='st'>"TB+"</span>, <span class='st'>"TB-"</span>))</div><div class='input'><span class='fu'>text</span>(<span class='fu'>c</span>(-<span class='fl'>8.75</span>,-<span class='fl'>5.25</span>),     <span class='fl'>21</span>, <span class='fu'>c</span>(<span class='st'>"Vaccinated"</span>, <span class='st'>"Control"</span>))</div><div class='input'><span class='fu'>text</span>(-<span class='fl'>16</span>,                <span class='fl'>20</span>, <span class='st'>"Author(s) and Year"</span>,   <span class='kw'>pos</span><span class='kw'>=</span><span class='fl'>4</span>)</div><div class='input'><span class='fu'>text</span>(<span class='fl'>6</span>,                  <span class='fl'>20</span>, <span class='st'>"Risk Ratio [95% CI]"</span>, <span class='kw'>pos</span><span class='kw'>=</span><span class='fl'>2</span>)</div><div class='img'><img src='forest.rma-20.png' alt='' width='768' height='614' /></div><div class='input'><span class='fu'>par</span>(<span class='no'>op</span>)

<span class='co'>### see also the addpoly.rma function for an example where summaries</span>
<span class='co'>### for the three subgroups are added to such a forest plot</span>

<span class='co'>### illustrate use of clim argument with a meta-analysis of raw correlation</span>
<span class='co'>### coefficients (data from Pritz, 1997); without clim=c(0,1), some of the</span>
<span class='co'>### CIs would have upper bounds larger than 1</span>
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='escalc.html'>escalc</a></span>(<span class='kw'>measure</span><span class='kw'>=</span><span class='st'>"PR"</span>, <span class='kw'>xi</span><span class='kw'>=</span><span class='no'>xi</span>, <span class='kw'>ni</span><span class='kw'>=</span><span class='no'>ni</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>dat.pritz1997</span>)
<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='rma.uni.html'>rma</a></span>(<span class='no'>yi</span>, <span class='no'>vi</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>dat</span>, <span class='kw'>slab</span><span class='kw'>=</span><span class='fu'>paste0</span>(<span class='no'>study</span>, <span class='st'>") "</span>, <span class='no'>authors</span>))
<span class='fu'><a href='forest.html'>forest</a></span>(<span class='no'>res</span>, <span class='kw'>xlim</span><span class='kw'>=</span><span class='fu'>c</span>(-<span class='fl'>1</span>,<span class='fl'>2</span>), <span class='kw'>alim</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>0</span>,<span class='fl'>1</span>), <span class='kw'>psize</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>refline</span><span class='kw'>=</span><span class='fu'>coef</span>(<span class='no'>res</span>), <span class='kw'>clim</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>0</span>,<span class='fl'>1</span>))</div><div class='input'><span class='fu'>text</span>(-<span class='fl'>1</span>, <span class='fl'>16</span>, <span class='st'>"Author(s)"</span>, <span class='kw'>pos</span><span class='kw'>=</span><span class='fl'>4</span>)</div><div class='input'><span class='fu'>text</span>( <span class='fl'>2</span>, <span class='fl'>16</span>, <span class='st'>"Proportion [95% CI]"</span>, <span class='kw'>pos</span><span class='kw'>=</span><span class='fl'>2</span>)</div><div class='img'><img src='forest.rma-21.png' alt='' width='768' height='614' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
   Wolfgang Viechtbauer <a href='mailto:wvb@metafor-project.org'>wvb@metafor-project.org</a> <a href='http://www.metafor-project.org/'>http://www.metafor-project.org/</a>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Wolfgang Viechtbauer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

