<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Variance Inflation Factors for 'rma' Objects — vif • metafor</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Variance Inflation Factors for 'rma' Objects — vif" />
<meta property="og:description" content="Compute variance inflation factors (VIFs) for objects of class &quot;rma&quot;. " />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metafor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.5-78</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/metafor-package.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/pkgdown/diagram.html">Diagram</a>
</li>
<li>
  <a href="https://www.jstatsoft.org/index.php/jss/article/view/v036i03/v36i03.pdf">JSS Article (pdf)</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/wviechtb">
    <span class="fas fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/wviechtb/metafor">
    <span class="fas fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Variance Inflation Factors for 'rma' Objects</h1>
    
    <div class="hidden name"><code>vif.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compute variance inflation factors (VIFs) for objects of class <code>"rma"</code>. <script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script></p>
    </div>

    <pre class="usage"><span class='fu'>vif</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for rma</span>
<span class='fu'>vif</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>btt</span>, intercept<span class='op'>=</span><span class='cn'>FALSE</span>, table<span class='op'>=</span><span class='cn'>FALSE</span>, <span class='va'>digits</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for vif.rma</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>x</span>, digits<span class='op'>=</span><span class='va'>x</span><span class='op'>$</span><span class='va'>digits</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>an object of class <code>"rma"</code> (for <code>vif</code>) or <code>"vif.rma"</code> (for <code>print</code>).</p></td>
    </tr>
    <tr>
      <th>btt</th>
      <td><p>optional vector of indices to specify a set of coefficients for which a generalized variance inflation factor (GVIF) should be computed. Can also be a string to grep for. See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>intercept</th>
      <td><p>logical to specify whether to include the intercept (if the model includes one) in the computation of the VIFs (the default is <code>FALSE</code>). See &#8216;Note&#8217;.</p></td>
    </tr>
    <tr>
      <th>table</th>
      <td><p>logical to specify whether the VIFs should be added to the model coefficient table (the default is <code>FALSE</code>).</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>integer to specify the number of decimal places to which the printed results should be rounded (if unspecified, the default is to take the value from the object).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguments.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function computes variance inflation factors (VIFs) for meta-regression models. Hence, the model specified via argument <code>x</code> must include moderator variables (and more than one for this to be useful, as the VIF for a model with a single moderator variable will always be equal to 1).</p>
<p>Let \(b_j\) denote the estimate of the \(j\)th model coefficient of a particular meta-regression model and \(\mbox{Var}[b_j]\) its variance (i.e., the corresponding diagonal element from the matrix obtained with the <code><a href='vcov.rma.html'>vcov.rma</a></code> function). Moreover, let \(b'_j\) denote the estimate of the same model coefficient if the other moderator variables in the model had <em>not</em> been included in the model and \(\mbox{Var}[b'_j]\) the corresponding variance. Then the VIF for the model coefficient is given by \[\mbox{VIF}[b_j] = \frac{\mbox{Var}[b_j]}{\mbox{Var}[b'_j]},\] which indicates the inflation in the variance of the estimated model coefficient due to potential collinearity of the \(j\)th moderator variable with the other moderator variables in the model. Taking the square root of a VIF gives the corresponding standard error inflation factor (SIF).</p>
<p>If <code>btt</code> is not specified, then the VIF is computed for each individual model coefficient. However, if the model includes factors (coded in terms of multiple dummy variables) or other sets of moderator variables that belong together (e.g., for polynomials or cubic splines), one may want to examine how much the variance in all of the coefficients in the set is jointly impacted by collinearity with the other moderator variables in the model. For this, we can compute a generalized variance inflation factor (GVIF) (Fox &amp; Monette, 1992) by setting the <code>btt</code> argument equal to the indices of those coefficients for which the GVIF should be computed. The square root of a GVIF indicates the inflation in the confidence ellipse/(hyper)ellipsoid for the set of coefficients corresponding to the set due to collinearity. However, to make this value more directly comparable to SIFs (based on single coefficients) or when the set includes a different number of coefficients, the function computes the generalized standard error inflation factor (GSIF) by raising the GVIF to the power of \(1/(2m)\) (where \(m\) denotes the number of coefficients in the set).</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>btt</code> is not specified, either a vector (if <code>table=FALSE</code>) with the VIFs or a data frame (if <code>table=TRUE</code>) with the following elements:</p>
<dt>estimate</dt><dd><p>estimated model coefficients.</p></dd>
   <dt>se</dt><dd><p>corresponding standard errors.</p></dd>
   <dt>zval</dt><dd><p>corresponding test statistics.</p></dd>
   <dt>pval</dt><dd><p>corresponding p-values.</p></dd>
   <dt>ci.lb</dt><dd><p>corresponding lower bound of the confidence intervals.</p></dd>
   <dt>ci.ub</dt><dd><p>corresponding upper bound of the confidence intervals.</p></dd>
   <dt>vif</dt><dd><p>corresponding variance inflation factors.</p></dd>
   <dt>sif</dt><dd><p>corresponding standard error inflation factors.</p></dd>
   If btt is specified, a list with elements gvif and gsif with the GVIF and GSIF values for the set of coefficients specified.

    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>The values of the (G)VIFs are invariant to the scaling of the predictor variables if the model includes an intercept that is removed when inverting the correlation matrix of the model coefficients to compute the (G)VIFs. This is the default behavior. See &#8216;Examples&#8217;.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Wolfgang Viechtbauer <a href='mailto:wvb@metafor-project.org'>wvb@metafor-project.org</a> <a href='https://www.metafor-project.org'>https://www.metafor-project.org</a></p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Belsley, D. A., Kuh, E., &amp; Welsch, R. E. (1980). <em>Regression diagnostics</em>. New York: Wiley.</p>
<p>Fox, J., &amp; Monette, G. (1992). Generalized collinearity diagnostics. <em>Journal of the American Statistical Association</em>, <b>87</b>(417), 178-183. <a href='https://doi.org/10.2307/2290467'>https://doi.org/10.2307/2290467</a></p>
<p>Stewart, G. W. (1987). Collinearity and least squares regression. <em>Statistical Science</em>, <b>2</b>(1), 68-84. <a href='https://doi.org/10.1214/ss/1177013439'>https://doi.org/10.1214/ss/1177013439</a></p>
<p>Wax, Y. (1992). Collinearity diagnosis for a relative risk regression-analysis: An application to assessment of diet cancer relationship in epidemiologic studies. <em>Statistics in Medicine</em>, <b>11</b>(10), 1273--1287. <a href='https://doi.org/10.1002/sim.4780111003'>https://doi.org/10.1002/sim.4780111003</a></p>
<p>Viechtbauer, W. (2010). Conducting meta-analyses in R with the metafor package. <em>Journal of Statistical Software</em>, <b>36</b>(3), 1--48. <a href='https://doi.org/10.18637/jss.v036.i03'>https://doi.org/10.18637/jss.v036.i03</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='rma.uni.html'>rma.uni</a></code>, <code><a href='rma.mv.html'>rma.mv</a></code>, <code><a href='rma.glmm.html'>rma.glmm</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>### copy data from Bangert-Drowns et al. (2004) into 'dat'</span>
<span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat.bangertdrowns2004</span>

<span class='co'>### fit mixed-effects meta-regression model</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rma.uni.html'>rma</a></span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, mods <span class='op'>=</span> <span class='op'>~</span> <span class='va'>length</span> <span class='op'>+</span> <span class='va'>wic</span> <span class='op'>+</span> <span class='va'>feedback</span> <span class='op'>+</span> <span class='va'>info</span> <span class='op'>+</span> <span class='va'>pers</span> <span class='op'>+</span> <span class='va'>imag</span> <span class='op'>+</span> <span class='va'>meta</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Studies with NAs omitted from model fitting.</span></div><div class='input'>
<span class='co'>### get variance inflation factors</span>
<span class='fu'>vif</span><span class='op'>(</span><span class='va'>res</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt;   length      wic feedback     info     pers     imag     meta 
#&gt;   1.5371   1.3860   1.6490   1.8340   5.6780   1.1554   4.5333 
#&gt; </div><div class='input'>
<span class='co'>### show that VIFs are not influenced by scaling of the predictors</span>
<span class='va'>u</span> <span class='op'>&lt;-</span> <span class='va'>scale</span> <span class='co'># to standardize the predictors</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rma.uni.html'>rma</a></span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, mods <span class='op'>=</span> <span class='op'>~</span> <span class='fu'>u</span><span class='op'>(</span><span class='va'>length</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'>u</span><span class='op'>(</span><span class='va'>wic</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'>u</span><span class='op'>(</span><span class='va'>feedback</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'>u</span><span class='op'>(</span><span class='va'>info</span><span class='op'>)</span> <span class='op'>+</span>
                            <span class='fu'>u</span><span class='op'>(</span><span class='va'>pers</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'>u</span><span class='op'>(</span><span class='va'>imag</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'>u</span><span class='op'>(</span><span class='va'>meta</span><span class='op'>)</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Studies with NAs omitted from model fitting.</span></div><div class='input'><span class='fu'>vif</span><span class='op'>(</span><span class='va'>res</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt;   u(length)      u(wic) u(feedback)     u(info)     u(pers)     u(imag) 
#&gt;      1.5371      1.3860      1.6490      1.8340      5.6780      1.1554 
#&gt;     u(meta) 
#&gt;      4.5333 
#&gt; </div><div class='input'>
<span class='co'>### get full table</span>
<span class='fu'>vif</span><span class='op'>(</span><span class='va'>res</span>, table<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt;              estimate      se     zval    pval    ci.lb   ci.ub     vif     sif 
#&gt; intrcpt        0.1825  0.0406   4.4898  &lt;.0001   0.1028  0.2621      NA      NA 
#&gt; u(length)      0.0458  0.0496   0.9240  0.3555  -0.0514  0.1431  1.5371  1.2398 
#&gt; u(wic)        -0.0210  0.0487  -0.4308  0.6666  -0.1164  0.0744  1.3860  1.1773 
#&gt; u(feedback)    0.0329  0.0524   0.6265  0.5310  -0.0699  0.1357  1.6490  1.2842 
#&gt; u(info)       -0.0460  0.0418  -1.1006  0.2711  -0.1280  0.0360  1.8340  1.3542 
#&gt; u(pers)       -0.0573  0.0956  -0.5992  0.5490  -0.2446  0.1301  5.6780  2.3829 
#&gt; u(imag)        0.1004  0.0452   2.2233  0.0262   0.0119  0.1890  1.1554  1.0749 
#&gt; u(meta)        0.0981  0.0850   1.1537  0.2486  -0.0685  0.2647  4.5333  2.1291 
#&gt; </div><div class='input'>
<span class='co'>### calculate log risk ratios and corresponding sampling variances</span>
<span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='escalc.html'>escalc</a></span><span class='op'>(</span>measure<span class='op'>=</span><span class='st'>"RR"</span>, ai<span class='op'>=</span><span class='va'>tpos</span>, bi<span class='op'>=</span><span class='va'>tneg</span>, ci<span class='op'>=</span><span class='va'>cpos</span>, di<span class='op'>=</span><span class='va'>cneg</span>, data<span class='op'>=</span><span class='va'>dat.bcg</span><span class='op'>)</span>

<span class='co'>### fit meta-regression model where one predictor (alloc) is a three-level factor</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rma.uni.html'>rma</a></span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, mods <span class='op'>=</span> <span class='op'>~</span> <span class='va'>ablat</span> <span class='op'>+</span> <span class='va'>alloc</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>

<span class='co'>### get variance inflation factors for all individual coefficients</span>
<span class='fu'>vif</span><span class='op'>(</span><span class='va'>res</span>, table<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt;                  estimate      se     zval    pval    ci.lb    ci.ub     vif 
#&gt; intrcpt            0.2932  0.4050   0.7239  0.4691  -0.5006   1.0870      NA 
#&gt; ablat             -0.0273  0.0092  -2.9650  0.0030  -0.0453  -0.0092  1.0151 
#&gt; allocrandom       -0.2675  0.3504  -0.7633  0.4453  -0.9543   0.4193  1.7224 
#&gt; allocsystematic    0.0585  0.3795   0.1540  0.8776  -0.6854   0.8023  1.7111 
#&gt;                     sif 
#&gt; intrcpt              NA 
#&gt; ablat            1.0075 
#&gt; allocrandom      1.3124 
#&gt; allocsystematic  1.3081 
#&gt; </div><div class='input'>
<span class='co'>### generalized variance inflation factor for the 'alloc' factor</span>
<span class='fu'>vif</span><span class='op'>(</span><span class='va'>res</span>, btt<span class='op'>=</span><span class='fl'>3</span><span class='op'>:</span><span class='fl'>4</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Collinearity Diagnostics (coefficients 3:4):
#&gt; GVIF = 1.0151, GSIF = 1.0038
#&gt; </div><div class='input'>
<span class='co'>### can also specify a string to grep for</span>
<span class='fu'>vif</span><span class='op'>(</span><span class='va'>res</span>, btt<span class='op'>=</span><span class='st'>"alloc"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Collinearity Diagnostics (coefficients 3:4):
#&gt; GVIF = 1.0151, GSIF = 1.0038
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Wolfgang Viechtbauer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


