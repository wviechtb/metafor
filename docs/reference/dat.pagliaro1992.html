<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Studies on the Effectiveness of Nonsurgical Treatments in Cirrhosis — dat.pagliaro1992 • metafor</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Studies on the Effectiveness of Nonsurgical Treatments in Cirrhosis — dat.pagliaro1992" />

<meta property="og:description" content="Results from 26 trials examining the effectiveness of beta-blockers and sclerotherapy for the prevention of first bleeding in patients with cirrhosis" />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metafor</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">2.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/metafor-package.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/pkgdown/diagram.html">Diagram</a>
</li>
<li>
  <a href="https://www.jstatsoft.org/index.php/jss/article/view/v036i03/v36i03.pdf">JSS Article (pdf)</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/wviechtb">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/wviechtb/metafor">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Studies on the Effectiveness of Nonsurgical Treatments in Cirrhosis</h1>
    
    <div class="hidden name"><code>dat.pagliaro1992.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Results from 26 trials examining the effectiveness of beta-blockers and sclerotherapy for the prevention of first bleeding in patients with cirrhosis</p>
    
    </div>

    <pre class="usage"><span class='no'>dat.pagliaro1992</span></pre>
        
    <h2 class="hasAnchor" id="format"><a class="anchor" href="#format"></a>Format</h2>

    <p>The data frame contains the following columns:</p><table class='table'>
<tr><td><b>study</b></td><td><code>numeric</code></td><td>study id</td></tr>
<tr><td><b>trt</b></td><td><code>character</code></td><td>either beta-blockers, sclerotherapy, or control</td></tr>
<tr><td><b>xi</b></td><td><code>numeric</code></td><td>number of patients with first bleeding</td></tr>
<tr><td><b>ni</b></td><td><code>numeric</code></td><td>number of patients treated</td></tr>
</table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The dataset includes the results from 26 randomized controlled trials examining the effectiveness of nonsurgical treatments for the prevention of first bleeding in patients with cirrhosis. Patients were either treated with beta-blockers, endoscopic sclerotherapy, or with a nonactive treatment (control). Two trials included all three treatment conditions, 7 trials compared beta-blockers against control, and 17 trials compared sclerotherapy against control. The dataset has been used in various papers to illustrate methods for conducting a network meta-analysis / mixed treatment comparison.</p>
    
    <h2 class="hasAnchor" id="source"><a class="anchor" href="#source"></a>Source</h2>

    <p>Pagliaro, L., D'Amico, G., Sörensen, T. I. A., Lebrec, D., Burroughs, A. K., Morabito, A., Tiné, F., Politi, F., &amp; Traina, M. (1992). Prevention of first bleeding in cirrhosis: A meta-analysis of randomized trials of nonsurgical treatment. <em>Annals of Internal Medicine</em>, <b>117</b>, 59--70.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>### load data</span>
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'>get</span>(<span class='fu'>data</span>(<span class='no'>dat.pagliaro1992</span>))

<span class='co'>### restructure dataset to a contrast-based format</span>
<span class='no'>dat.c</span> <span class='kw'>&lt;-</span> <span class='fu'>lapply</span>(<span class='fu'>split</span>(<span class='no'>dat.pagliaro1992</span>, <span class='no'>dat.pagliaro1992</span>$<span class='no'>study</span>),
                <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'>cbind</span>(<span class='no'>x</span>[-<span class='fu'>nrow</span>(<span class='no'>x</span>),<span class='fl'>2</span>:<span class='fl'>4</span>], <span class='no'>x</span>[<span class='fu'>rep</span>(<span class='fu'>nrow</span>(<span class='no'>x</span>),<span class='fu'>nrow</span>(<span class='no'>x</span>)-<span class='fl'>1</span>),]))
<span class='no'>dat.c</span> <span class='kw'>&lt;-</span> <span class='fu'>do.call</span>(<span class='no'>rbind</span>, <span class='no'>dat.c</span>)
<span class='no'>dat.c</span> <span class='kw'>&lt;-</span> <span class='no'>dat.c</span>[,<span class='fu'>c</span>(<span class='fl'>4</span>,<span class='fl'>1</span>,<span class='fl'>5</span>,<span class='fl'>2</span>,<span class='fl'>3</span>,<span class='fl'>6</span>,<span class='fl'>7</span>)]
<span class='fu'>names</span>(<span class='no'>dat.c</span>) <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"study"</span>, <span class='st'>"trt1"</span>, <span class='st'>"trt2"</span>, <span class='st'>"ai"</span>, <span class='st'>"n1i"</span>, <span class='st'>"ci"</span>, <span class='st'>"n2i"</span>)
<span class='fu'>rownames</span>(<span class='no'>dat.c</span>) <span class='kw'>&lt;-</span> <span class='fl'>1</span>:<span class='fu'>nrow</span>(<span class='no'>dat.c</span>)
<span class='no'>dat.c</span></div><div class='output co'>#&gt;    study          trt1    trt2 ai n1i ci n2i
#&gt; 1      1 beta-blockers control  2  43 13  41
#&gt; 2      1 sclerotherapy control  9  42 13  41
#&gt; 3      2 beta-blockers control 12  68 13  72
#&gt; 4      2 sclerotherapy control 13  73 13  72
#&gt; 5      3 beta-blockers control  4  20  4  16
#&gt; 6      4 beta-blockers control 20 116 30 111
#&gt; 7      5 beta-blockers control  1  30 11  49
#&gt; 8      6 beta-blockers control  7  53 10  53
#&gt; 9      7 beta-blockers control 18  85 31  89
#&gt; 10     8 beta-blockers control  2  51 11  51
#&gt; 11     9 beta-blockers control  8  23  2  25
#&gt; 12    10 sclerotherapy control  4  18  0  19
#&gt; 13    11 sclerotherapy control  3  35 22  36
#&gt; 14    12 sclerotherapy control  5  56 30  53
#&gt; 15    13 sclerotherapy control  5  16  6  18
#&gt; 16    14 sclerotherapy control  3  23  9  22
#&gt; 17    15 sclerotherapy control 11  49 31  46
#&gt; 18    16 sclerotherapy control 19  53  9  60
#&gt; 19    17 sclerotherapy control 17  53 26  60
#&gt; 20    18 sclerotherapy control 10  71 29  69
#&gt; 21    19 sclerotherapy control 12  41 14  41
#&gt; 22    20 sclerotherapy control  0  21  3  20
#&gt; 23    21 sclerotherapy control 13  33 14  35
#&gt; 24    22 sclerotherapy control 31 143 23 138
#&gt; 25    23 sclerotherapy control 20  55 19  51
#&gt; 26    24 sclerotherapy control  3  13 12  16
#&gt; 27    25 sclerotherapy control  3  21  5  28
#&gt; 28    26 sclerotherapy control  6  22  2  24</div><div class='input'>
<span class='co'>### Mantel-Haenszel results for beta-blockers and sclerotherapy versus control, respectively</span>
<span class='fu'><a href='rma.mh.html'>rma.mh</a></span>(<span class='kw'>measure</span><span class='kw'>=</span><span class='st'>"OR"</span>, <span class='kw'>ai</span><span class='kw'>=</span><span class='no'>ai</span>, <span class='kw'>n1i</span><span class='kw'>=</span><span class='no'>n1i</span>, <span class='kw'>ci</span><span class='kw'>=</span><span class='no'>ci</span>, <span class='kw'>n2i</span><span class='kw'>=</span><span class='no'>n2i</span>,
       <span class='kw'>data</span><span class='kw'>=</span><span class='no'>dat.c</span>, <span class='kw'>subset</span><span class='kw'>=</span>(<span class='no'>trt1</span><span class='kw'>==</span><span class='st'>"beta-blockers"</span>), <span class='kw'>digits</span><span class='kw'>=</span><span class='fl'>2</span>)</div><div class='output co'>#&gt; 
#&gt; Fixed-Effects Model (k = 9)
#&gt; 
#&gt; Test for Heterogeneity: 
#&gt; Q(df = 8) = 18.98, p-val = 0.01
#&gt; 
#&gt; Model Results (log scale):
#&gt; 
#&gt; estimate    se   zval  pval  ci.lb  ci.ub 
#&gt;    -0.62  0.16  -3.78  &lt;.01  -0.94  -0.30 
#&gt; 
#&gt; Model Results (OR scale):
#&gt; 
#&gt; estimate  ci.lb  ci.ub 
#&gt;     0.54   0.39   0.74 
#&gt; 
#&gt; Cochran-Mantel-Haenszel Test:    CMH = 14.14, df = 1, p-val &lt; 0.01
#&gt; Tarone's Test for Heterogeneity: X^2 = 22.76, df = 8, p-val &lt; 0.01
#&gt; </div><div class='input'><span class='fu'><a href='rma.mh.html'>rma.mh</a></span>(<span class='kw'>measure</span><span class='kw'>=</span><span class='st'>"OR"</span>, <span class='kw'>ai</span><span class='kw'>=</span><span class='no'>ai</span>, <span class='kw'>n1i</span><span class='kw'>=</span><span class='no'>n1i</span>, <span class='kw'>ci</span><span class='kw'>=</span><span class='no'>ci</span>, <span class='kw'>n2i</span><span class='kw'>=</span><span class='no'>n2i</span>,
       <span class='kw'>data</span><span class='kw'>=</span><span class='no'>dat.c</span>, <span class='kw'>subset</span><span class='kw'>=</span>(<span class='no'>trt1</span><span class='kw'>==</span><span class='st'>"sclerotherapy"</span>), <span class='kw'>digits</span><span class='kw'>=</span><span class='fl'>2</span>)</div><div class='output co'>#&gt; 
#&gt; Fixed-Effects Model (k = 19)
#&gt; 
#&gt; Test for Heterogeneity: 
#&gt; Q(df = 18) = 81.60, p-val &lt; .01
#&gt; 
#&gt; Model Results (log scale):
#&gt; 
#&gt; estimate    se   zval  pval  ci.lb  ci.ub 
#&gt;    -0.53  0.11  -4.84  &lt;.01  -0.74  -0.31 
#&gt; 
#&gt; Model Results (OR scale):
#&gt; 
#&gt; estimate  ci.lb  ci.ub 
#&gt;     0.59   0.48   0.73 
#&gt; 
#&gt; Cochran-Mantel-Haenszel Test:    CMH = 24.20, df = 1,  p-val &lt; 0.01
#&gt; Tarone's Test for Heterogeneity: X^2 = 94.46, df = 18, p-val &lt; 0.01
#&gt; </div><div class='input'>
<span class='co'>### calculate log odds for each study arm</span>
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='escalc.html'>escalc</a></span>(<span class='kw'>measure</span><span class='kw'>=</span><span class='st'>"PLO"</span>, <span class='kw'>xi</span><span class='kw'>=</span><span class='no'>xi</span>, <span class='kw'>ni</span><span class='kw'>=</span><span class='no'>ni</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>dat</span>)

<span class='co'>### turn treatment variable into factor and set reference level</span>
<span class='no'>dat</span>$<span class='no'>trt</span> <span class='kw'>&lt;-</span> <span class='fu'>relevel</span>(<span class='fu'>factor</span>(<span class='no'>dat</span>$<span class='no'>trt</span>), <span class='kw'>ref</span><span class='kw'>=</span><span class='st'>"control"</span>)

<span class='co'>### add a space before each level (this makes the output a bit more legible)</span>
<span class='fu'>levels</span>(<span class='no'>dat</span>$<span class='no'>trt</span>) <span class='kw'>&lt;-</span> <span class='fu'>paste0</span>(<span class='st'>" "</span>, <span class='fu'>levels</span>(<span class='no'>dat</span>$<span class='no'>trt</span>))

<span class='co'>### network meta-analysis using an arm-based random-effects model with fixed study effects</span>
<span class='co'>### by setting rho=1/2, tau^2 reflects the amount of heterogeneity for all treatment comparisons</span>
<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='rma.mv.html'>rma.mv</a></span>(<span class='no'>yi</span>, <span class='no'>vi</span>, <span class='kw'>mods</span> <span class='kw'>=</span> ~ <span class='fu'>factor</span>(<span class='no'>study</span>) + <span class='no'>trt</span> - <span class='fl'>1</span>, <span class='kw'>random</span> <span class='kw'>=</span> ~ <span class='no'>trt</span> <span class='kw'>|</span> <span class='no'>study</span>, <span class='kw'>rho</span><span class='kw'>=</span><span class='fl'>1</span>/<span class='fl'>2</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>dat</span>)
<span class='no'>res</span></div><div class='output co'>#&gt; 
#&gt; Multivariate Meta-Analysis Model (k = 54; method: REML)
#&gt; 
#&gt; Variance Components:
#&gt; 
#&gt; outer factor: study (nlvls = 26)
#&gt; inner factor: trt   (nlvls = 3)
#&gt; 
#&gt;             estim    sqrt  fixed 
#&gt; tau^2      0.9913  0.9957     no 
#&gt; rho        0.5000            yes 
#&gt; 
#&gt; Test for Residual Heterogeneity:
#&gt; QE(df = 26) = 99.3092, p-val &lt; .0001
#&gt; 
#&gt; Test of Moderators (coefficients 1:28):
#&gt; QM(df = 28) = 56.4980, p-val = 0.0011
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt;                    estimate      se     zval    pval    ci.lb    ci.ub 
#&gt; factor(study)1      -1.1071  0.8684  -1.2748  0.2024  -2.8091   0.5950    
#&gt; factor(study)2      -1.0951  0.8483  -1.2910  0.1967  -2.7577   0.5675    
#&gt; factor(study)3      -0.8816  0.9712  -0.9077  0.3641  -2.7851   1.0220    
#&gt; factor(study)4      -0.9237  0.8980  -1.0286  0.3037  -2.6838   0.8364    
#&gt; factor(study)5      -1.6433  0.9724  -1.6900  0.0910  -3.5491   0.2625  . 
#&gt; factor(study)6      -1.3172  0.9221  -1.4286  0.1531  -3.1244   0.4900    
#&gt; factor(study)7      -0.6125  0.8997  -0.6808  0.4960  -2.3758   1.1509    
#&gt; factor(study)8      -1.7386  0.9479  -1.8341  0.0666  -3.5966   0.1193  . 
#&gt; factor(study)9      -0.9195  0.9816  -0.9367  0.3489  -2.8435   1.0045    
#&gt; factor(study)10     -1.3962  1.0750  -1.2988  0.1940  -3.5032   0.7107    
#&gt; factor(study)11     -0.4776  0.9305  -0.5133  0.6077  -2.3015   1.3462    
#&gt; factor(study)12     -0.6253  0.9099  -0.6872  0.4920  -2.4086   1.1581    
#&gt; factor(study)13     -0.4554  0.9463  -0.4812  0.6304  -2.3101   1.3994    
#&gt; factor(study)14     -0.7814  0.9455  -0.8264  0.4086  -2.6346   1.0718    
#&gt; factor(study)15      0.0456  0.9027   0.0505  0.9597  -1.7238   1.8149    
#&gt; factor(study)16     -0.8312  0.9032  -0.9203  0.3574  -2.6014   0.9390    
#&gt; factor(study)17     -0.2181  0.8941  -0.2440  0.8072  -1.9706   1.5343    
#&gt; factor(study)18     -0.7510  0.8961  -0.8380  0.4020  -2.5074   1.0055    
#&gt; factor(study)19     -0.4790  0.9043  -0.5297  0.5963  -2.2514   1.2934    
#&gt; factor(study)20     -2.1080  1.0763  -1.9585  0.0502  -4.2176   0.0016  . 
#&gt; factor(study)21     -0.1279  0.9071  -0.1410  0.8878  -1.9057   1.6499    
#&gt; factor(study)22     -1.1504  0.8861  -1.2983  0.1942  -2.8871   0.5863    
#&gt; factor(study)23     -0.2472  0.8957  -0.2760  0.7825  -2.0028   1.5083    
#&gt; factor(study)24      0.2882  0.9746   0.2957  0.7675  -1.6219   2.1983    
#&gt; factor(study)25     -1.3812  0.9557  -1.4453  0.1484  -3.2542   0.4919    
#&gt; factor(study)26     -1.2182  0.9737  -1.2511  0.2109  -3.1266   0.6902    
#&gt; trt beta-blockers   -0.7163  0.3871  -1.8508  0.0642  -1.4750   0.0423  . 
#&gt; trt sclerotherapy   -0.5839  0.2684  -2.1753  0.0296  -1.1101  -0.0578  * 
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'>
<span class='co'>### average odds ratio comparing beta-blockers and sclerotherapy versus control, respectively</span>
<span class='fu'>predict</span>(<span class='no'>res</span>, <span class='kw'>newmods</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fu'>rep</span>(<span class='fl'>0</span>,<span class='fl'>26</span>), <span class='fl'>1</span>, <span class='fl'>0</span>), <span class='kw'>transf</span><span class='kw'>=</span><span class='no'>exp</span>, <span class='kw'>digits</span><span class='kw'>=</span><span class='fl'>2</span>)</div><div class='output co'>#&gt; 
#&gt;  pred ci.lb ci.ub cr.lb cr.ub 
#&gt;  0.49  0.23  1.04  0.06  3.96 
#&gt; </div><div class='input'><span class='fu'>predict</span>(<span class='no'>res</span>, <span class='kw'>newmods</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fu'>rep</span>(<span class='fl'>0</span>,<span class='fl'>26</span>), <span class='fl'>0</span>, <span class='fl'>1</span>), <span class='kw'>transf</span><span class='kw'>=</span><span class='no'>exp</span>, <span class='kw'>digits</span><span class='kw'>=</span><span class='fl'>2</span>)</div><div class='output co'>#&gt; 
#&gt;  pred ci.lb ci.ub cr.lb cr.ub 
#&gt;  0.56  0.33  0.94  0.07  4.21 
#&gt; </div><div class='input'>
<span class='co'>### average odds ratio comparing beta-blockers versus sclerotherapy</span>
<span class='fu'>predict</span>(<span class='no'>res</span>, <span class='kw'>newmods</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fu'>rep</span>(<span class='fl'>0</span>,<span class='fl'>26</span>), <span class='fl'>1</span>, -<span class='fl'>1</span>), <span class='kw'>transf</span><span class='kw'>=</span><span class='no'>exp</span>, <span class='kw'>digits</span><span class='kw'>=</span><span class='fl'>2</span>)</div><div class='output co'>#&gt; 
#&gt;  pred ci.lb ci.ub cr.lb cr.ub 
#&gt;  0.88  0.36  2.11  0.10  7.45 
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#format">Format</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#source">Source</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Wolfgang Viechtbauer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

